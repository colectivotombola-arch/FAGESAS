# ü™ô FageCoin - Gu√≠a de Despliegue Completa

## üìã Descripci√≥n General

FageCoin es un token ERC-20 avanzado dise√±ado espec√≠ficamente para el ecosistema FAGESAS. Incluye funcionalidades premium como staking, recompensas, y gesti√≥n de usuarios premium.

### üåü Caracter√≠sticas Principales

- **Token ERC-20 Est√°ndar**: Compatible con todas las wallets y exchanges
- **Funcionalidad de Burning**: Los tokens pueden ser quemados permanentemente
- **Sistema de Staking**: Los usuarios pueden hacer stake de tokens para ganar recompensas
- **Usuarios Premium**: Sistema integrado de membres√≠as premium
- **Pausable**: El contrato puede ser pausado en caso de emergencia
- **Suministro M√°ximo**: 1 bill√≥n de tokens m√°ximo
- **Suministro Inicial**: 100 millones de tokens

## üõ†Ô∏è Requisitos Previos

### Software Necesario
```bash
# Node.js (versi√≥n 16 o superior)
https://nodejs.org/

# NPM o Yarn
npm install -g yarn

# Hardhat (framework de desarrollo)
npm install -g hardhat

# MetaMask (wallet browser)
https://metamask.io/
```

### Dependencias del Proyecto
```bash
npm install @openzeppelin/contracts
npm install @nomiclabs/hardhat-ethers
npm install @nomiclabs/hardhat-waffle
npm install hardhat
npm install ethers
```

## üöÄ Configuraci√≥n del Proyecto

### 1. Estructura de Archivos
```
fagecoin-project/
‚îú‚îÄ‚îÄ contracts/
‚îÇ   ‚îî‚îÄ‚îÄ FageCoin.sol
‚îú‚îÄ‚îÄ scripts/
‚îÇ   ‚îú‚îÄ‚îÄ deploy.js
‚îÇ   ‚îî‚îÄ‚îÄ verify.js
‚îú‚îÄ‚îÄ test/
‚îÇ   ‚îî‚îÄ‚îÄ FageCoin.test.js
‚îú‚îÄ‚îÄ hardhat.config.js
‚îú‚îÄ‚îÄ package.json
‚îî‚îÄ‚îÄ .env
```

### 2. Configuraci√≥n de Hardhat

Crear `hardhat.config.js`:
```javascript
require("@nomiclabs/hardhat-waffle");
require("@nomiclabs/hardhat-ethers");
require('dotenv').config();

const PRIVATE_KEY = process.env.PRIVATE_KEY;
const INFURA_API_KEY = process.env.INFURA_API_KEY;
const ETHERSCAN_API_KEY = process.env.ETHERSCAN_API_KEY;

module.exports = {
  solidity: {
    version: "0.8.19",
    settings: {
      optimizer: {
        enabled: true,
        runs: 200
      }
    }
  },
  networks: {
    // Testnet (Sepolia)
    sepolia: {
      url: `https://sepolia.infura.io/v3/${INFURA_API_KEY}`,
      accounts: [`0x${PRIVATE_KEY}`],
      gasPrice: 20000000000,
    },
    // Mainnet
    mainnet: {
      url: `https://mainnet.infura.io/v3/${INFURA_API_KEY}`,
      accounts: [`0x${PRIVATE_KEY}`],
      gasPrice: 20000000000,
    },
    // Polygon
    polygon: {
      url: "https://polygon-rpc.com/",
      accounts: [`0x${PRIVATE_KEY}`],
      gasPrice: 20000000000,
    },
    // BSC
    bsc: {
      url: "https://bsc-dataseed.binance.org/",
      accounts: [`0x${PRIVATE_KEY}`],
      gasPrice: 20000000000,
    }
  },
  etherscan: {
    apiKey: ETHERSCAN_API_KEY
  }
};
```

### 3. Variables de Entorno

Crear archivo `.env`:
```env
# Clave privada de tu wallet (SIN el prefijo 0x)
PRIVATE_KEY=tu_clave_privada_aqui

# API Key de Infura (reg√≠strate en https://infura.io/)
INFURA_API_KEY=tu_infura_api_key_aqui

# API Key de Etherscan (para verificaci√≥n)
ETHERSCAN_API_KEY=tu_etherscan_api_key_aqui

# Direcci√≥n del contrato despu√©s del despliegue
CONTRACT_ADDRESS=se_llenara_automaticamente
```

## üìÑ Scripts de Despliegue

### Script de Despliegue (`scripts/deploy.js`)
```javascript
const { ethers } = require("hardhat");

async function main() {
  console.log("üöÄ Desplegando FageCoin...");
  
  // Obtener el contrato
  const FageCoin = await ethers.getContractFactory("FageCoin");
  
  // Desplegar el contrato
  const fageCoin = await FageCoin.deploy();
  await fageCoin.deployed();
  
  console.log("‚úÖ FageCoin desplegado en:", fageCoin.address);
  console.log("üìã Hash de transacci√≥n:", fageCoin.deployTransaction.hash);
  
  // Informaci√≥n del token
  console.log("\nüìä Informaci√≥n del Token:");
  console.log("Nombre:", await fageCoin.name());
  console.log("S√≠mbolo:", await fageCoin.symbol());
  console.log("Decimales:", await fageCoin.decimals());
  console.log("Suministro Total:", ethers.utils.formatEther(await fageCoin.totalSupply()), "FAGE");
  
  // Guardar la direcci√≥n en un archivo
  const fs = require('fs');
  const deploymentData = {
    contractAddress: fageCoin.address,
    transactionHash: fageCoin.deployTransaction.hash,
    blockNumber: fageCoin.deployTransaction.blockNumber,
    deployer: fageCoin.deployTransaction.from,
    timestamp: new Date().toISOString()
  };
  
  fs.writeFileSync('./deployment.json', JSON.stringify(deploymentData, null, 2));
  console.log("üíæ Informaci√≥n de despliegue guardada en deployment.json");
}

main()
  .then(() => process.exit(0))
  .catch((error) => {
    console.error("‚ùå Error:", error);
    process.exit(1);
  });
```

### Script de Verificaci√≥n (`scripts/verify.js`)
```javascript
const { run } = require("hardhat");

async function main() {
  const contractAddress = "TU_DIRECCION_DEL_CONTRATO_AQUI";
  
  console.log("üîç Verificando contrato en Etherscan...");
  
  try {
    await run("verify:verify", {
      address: contractAddress,
      constructorArguments: [], // FageCoin no tiene argumentos de constructor
    });
    console.log("‚úÖ Contrato verificado exitosamente");
  } catch (error) {
    console.error("‚ùå Error en verificaci√≥n:", error);
  }
}

main();
```

## üîß Comandos de Despliegue

### 1. Preparar el Proyecto
```bash
# Instalar dependencias
npm install

# Compilar contratos
npx hardhat compile
```

### 2. Desplegar en Testnet (Sepolia)
```bash
# Desplegar en Sepolia
npx hardhat run scripts/deploy.js --network sepolia

# Verificar en Etherscan
npx hardhat run scripts/verify.js --network sepolia
```

### 3. Desplegar en Mainnet
```bash
# ‚ö†Ô∏è ASEG√öRATE DE TENER ETH SUFICIENTE PARA GAS
npx hardhat run scripts/deploy.js --network mainnet

# Verificar en Etherscan
npx hardhat run scripts/verify.js --network mainnet
```

### 4. Desplegar en Otras Redes
```bash
# Polygon
npx hardhat run scripts/deploy.js --network polygon

# Binance Smart Chain
npx hardhat run scripts/deploy.js --network bsc
```

## ‚öôÔ∏è Configuraci√≥n Post-Despliegue

### 1. Actualizar la Aplicaci√≥n React

Editar `src/hooks/useWeb3.ts`:
```typescript
// Reemplaza esta l√≠nea con tu direcci√≥n de contrato desplegado
const FAGECOIN_CONTRACT_ADDRESS = "TU_DIRECCION_DEL_CONTRATO_AQUI";
```

### 2. Configurar MetaMask

1. **A√±adir Token Personalizado**:
   - Abrir MetaMask
   - Ir a "Activos" ‚Üí "Importar tokens"
   - Pegar la direcci√≥n del contrato
   - El s√≠mbolo (FAGE) y decimales (18) se llenar√°n autom√°ticamente

2. **A√±adir Redes (si es necesario)**:
   ```javascript
   // Polygon
   Red: Polygon Mainnet
   RPC: https://polygon-rpc.com/
   Chain ID: 137
   S√≠mbolo: MATIC
   
   // BSC
   Red: Binance Smart Chain
   RPC: https://bsc-dataseed.binance.org/
   Chain ID: 56
   S√≠mbolo: BNB
   ```

## üß™ Testing del Contrato

### Script de Prueba (`test/FageCoin.test.js`)
```javascript
const { expect } = require("chai");
const { ethers } = require("hardhat");

describe("FageCoin", function () {
  let fageCoin;
  let owner;
  let addr1;
  let addr2;

  beforeEach(async function () {
    [owner, addr1, addr2] = await ethers.getSigners();
    const FageCoin = await ethers.getContractFactory("FageCoin");
    fageCoin = await FageCoin.deploy();
    await fageCoin.deployed();
  });

  describe("Deployment", function () {
    it("Should set the right owner", async function () {
      expect(await fageCoin.owner()).to.equal(owner.address);
    });

    it("Should assign the total supply to the owner", async function () {
      const ownerBalance = await fageCoin.balanceOf(owner.address);
      expect(await fageCoin.totalSupply()).to.equal(ownerBalance);
    });
  });

  describe("Transactions", function () {
    it("Should transfer tokens between accounts", async function () {
      await fageCoin.transfer(addr1.address, 50);
      expect(await fageCoin.balanceOf(addr1.address)).to.equal(50);
    });

    it("Should allow staking", async function () {
      await fageCoin.transfer(addr1.address, 1000);
      await fageCoin.connect(addr1).stake(500);
      
      const stakingInfo = await fageCoin.getStakingInfo(addr1.address);
      expect(stakingInfo.stakedAmount).to.equal(500);
    });
  });
});
```

### Ejecutar Pruebas
```bash
npx hardhat test
```

## üí∞ Costos Estimados de Despliegue

### Gas Estimado por Red
| Red | Costo Estimado | Tiempo |
|-----|---------------|---------|
| Ethereum Mainnet | $50-200 USD | 2-15 min |
| Polygon | $0.01-0.10 USD | 30 seg |
| BSC | $1-5 USD | 1-3 min |
| Sepolia (Testnet) | Gratis | 1-5 min |

## üîí Seguridad y Mejores Pr√°cticas

### 1. Antes del Despliegue
- ‚úÖ Auditar el c√≥digo del contrato
- ‚úÖ Probar exhaustivamente en testnet
- ‚úÖ Verificar todas las funciones
- ‚úÖ Revisar permisos de owner

### 2. Despu√©s del Despliegue
- ‚úÖ Verificar el contrato en Etherscan
- ‚úÖ Hacer backup de las claves privadas
- ‚úÖ Configurar multisig para el owner
- ‚úÖ Documentar todas las direcciones

### 3. Monitoreo Continuo
- üìä Seguimiento de transacciones
- üîç An√°lisis de eventos del contrato
- üìà Monitoreo del suministro total
- ‚ö†Ô∏è Alertas de actividad sospechosa

## üéØ Integraci√≥n con FAGESAS

### 1. Conexi√≥n con Backend
```javascript
// Ejemplo de integraci√≥n con Supabase
const { supabase } = require('@supabase/supabase-js');

async function recordTransaction(txHash, from, to, amount) {
  const { data, error } = await supabase
    .from('fagecoin_transactions')
    .insert([
      {
        transaction_hash: txHash,
        from_address: from,
        to_address: to,
        amount: amount,
        timestamp: new Date()
      }
    ]);
}
```

### 2. Funciones Premium
```javascript
// Verificar status premium
async function checkPremiumStatus(userAddress) {
  const isPremium = await fageCoinContract.methods.premiumUsers(userAddress).call();
  return isPremium;
}

// Activar premium
async function activatePremium(userAddress) {
  await fageCoinContract.methods.setPremiumStatus(userAddress, true).send({
    from: ownerAddress
  });
}
```

## üìû Soporte y Troubleshooting

### Problemas Comunes

1. **"Insufficient funds for gas"**
   - Soluci√≥n: Aseg√∫rate de tener ETH suficiente para gas

2. **"Contract creation failed"**
   - Soluci√≥n: Verifica la configuraci√≥n de red y gas limit

3. **"Invalid address"**
   - Soluci√≥n: Revisa que las direcciones sean v√°lidas checksummed

### Contacto de Soporte
- üìß Email: support@fagesas.com
- üí¨ Telegram: @FAGESAS_Support
- üåê Web: https://fagesas.com/support

## üìà Roadmap T√©cnico

### Fase 1 (Actual) ‚úÖ
- Despliegue del token b√°sico
- Integraci√≥n con MetaMask
- Funcionalidades de staking

### Fase 2 (Q2 2025)
- Bridge multi-chain
- Pools de liquidez
- Governance token features

### Fase 3 (Q3 2025)
- NFT marketplace integration
- Advanced DeFi features
- Mobile wallet app

---

**‚ö†Ô∏è Disclaimer**: Este es un contrato inteligente en blockchain. Las transacciones son irreversibles. Aseg√∫rate de probar todo en testnet antes del despliegue en mainnet.